{"version":3,"sources":["../src/db.js"],"names":["Promise","global","db","connect","mongoURL","useMongoClient","then","callback","catch","console","error","err","stack","process","exit"],"mappings":";;;;;;AAAA;;;;AACA;;;;;;kBAEe,oBAAY;;AAEzB,qBAASA,OAAT,GAAmBC,OAAOD,OAA1B;AACA,MAAIE,KAAK,mBAASC,OAAT,CAAiB,iBAAOC,QAAxB,EAAkC;AACzCC,oBAAgB;;AADyB,GAAlC,CAAT;AAIAH,KAAGI,IAAH,CAAQC,SAASL,EAAT,CAAR,EAAsBM,KAAtB,CAA4B,eAAO;AAAE;AACnCC,YAAQC,KAAR,CAAc,kCAAgCC,IAAIC,KAAlD,EADiC,CACwB;AACzDC,YAAQC,IAAR,CAAa,CAAb;AACH,GAHC;AAID,C","file":"db.js","sourcesContent":["import mongoose from 'mongoose';\nimport config from './config';\n\nexport default callback => {\n    \n  mongoose.Promise = global.Promise;\n  let db = mongoose.connect(config.mongoURL, {\n    useMongoClient: true,\n\n  });\n  db.then(callback(db)).catch(err => { // we will not be here...\n    console.error('Failed to connect to MongoDB '+err.stack);//, err.stack);\n    process.exit(1);    \n});\n}\n"]}
{"version":3,"sources":["../../src/controller/cards.js"],"names":["config","db","api","put","req","res","findById","params","id","err","card","send","cardToken","body","token","status"],"mappings":";;;;;;AAAA;;;;AACA;;AACA;;AACA;;;;;;kBAEc,gBAAiB;AAAA,QAAfA,MAAe,QAAfA,MAAe;AAAA,QAARC,EAAQ,QAARA,EAAQ;;AAC3B,QAAIC,MAAM,sBAAV;;AAEA;AACAA,QAAIC,GAAJ,CAAQ,MAAR,gCAA8B,UAACC,GAAD,EAAKC,GAAL,EAAW;AACrC,uBAAKC,QAAL,CAAcF,IAAIG,MAAJ,CAAWC,EAAzB,EAA6B,UAACC,GAAD,EAAMC,IAAN,EAAa;AACtC,gBAAGD,GAAH,EAAO;AACHJ,oBAAIM,IAAJ,CAASF,GAAT;AACH;AACDC,iBAAKE,SAAL,GAAiBR,IAAIS,IAAJ,CAASC,KAA1B;AACAJ,iBAAKK,MAAL,GAAc,CAAd;AACH,SAND;AAOH,KARD;;AAUA,WAAOb,GAAP;AACH,C","file":"cards.js","sourcesContent":["import mongoose from 'mongoose';\nimport {Router} from 'express';\nimport {authenticate} from '../middleware/authMiddleware';\nimport Card from '../model/card';\n\nexport default({config,db}) => {\n    let api = Router();\n\n    //v1/card/:id\n    api.put('/:id', authenticate, (req,res)=>{\n        Card.findById(req.params.id, (err, card)=>{\n            if(err){\n                res.send(err);\n            }\n            card.cardToken = req.body.token;\n            card.status = 0;\n        });        \n    });\n\n    return api;\n}"]}